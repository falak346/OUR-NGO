{% extends "base.html" %}
{% block title %}About — NGO{% endblock %}

{% block content %}
{# --- KEEP ORIGINAL CONTENT START (unchanged) --- #}

<!-- WHO WE ARE -->
<!-- Updated '<div class="text-center"><h1 class="text-4xl font-extrabold text-gray-900 leading-tight relative inline-block mx-auto">Who We Are<span class="absolute left-1/2 -bottom-2 -translate-x-1/2 w-20 h-1 bg-[var(--accent-700)]"></span></h1></div>' section with centered heading, reduced top spacing, natural image height, and no shadow frame -->
<section class="relative py-10 bg-[#FFF8E2] overflow-hidden">

  <!-- decorative dots -->
  <div class="absolute top-10 left-10 w-24 h-24 opacity-30 bg-transparent rounded-full blur-2xl"></div>
  <div class="absolute bottom-10 right-20 w-32 h-32 opacity-20 bg-transparent rounded-full blur-3xl"></div>

  <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-10 items-center">

    <!-- LEFT: TEXT -->
    <div class="space-y-6 relative z-30 text-center md:text-left">
      <h1 class="text-4xl font-extrabold text-gray-900 leading-tight mb-2">
        Who We Are
        <span class="block mx-auto md:mx-0 mt-2 w-20 h-1 bg-[var(--accent-700)]"></span>
      </h1>

      <div class="bg-white/60 backdrop-blur-lg p-6  border border-white/40">
        <p class="text-gray-700 text-lg leading-relaxed">
          We are a dedicated non-profit organization committed to uplifting vulnerable communities
          by focusing on education, healthcare, empowerment, and long-term development.
        </p>
        <p class="text-gray-700 text-lg leading-relaxed mt-3">
          Our programs are designed to create lasting change by empowering families with tools,
          resources, and opportunities that help them thrive with dignity.
        </p>
        <p class="text-gray-700 text-lg leading-relaxed mt-3">
          Every initiative we take is driven by compassion, accountability, and a belief in creating
          sustainable pathways for a brighter future.
        </p>
      </div>
    </div>

    <!-- RIGHT: IMAGE SLIDER (natural height, no frame/shadow) -->
    <div class="relative w-full h-full max-h-[520px] overflow-hidden ">

      <!-- Fade effect -->
      <div class="absolute left-0 top-0 h-full w-20 md:w-28 
                  bg-gradient-to-r from-[#FFF8E2] to-transparent 
                  z-20 pointer-events-none"></div>

      <div id="heroSlider" class="relative h-full w-full overflow-hidden">
        <img src="/static/images/Gemini_Generated_Image_p5bah7p5bah7p5ba (1).png"
             class="hero-slide absolute inset-0 w-full h-full object-contain opacity-0 transition-opacity duration-700 bg-[#FFF8E2]">

        <img src="/static/images/2nd.png"
             class="hero-slide absolute inset-0 w-full h-full object-contain opacity-0 transition-opacity duration-700 bg-[#FFF8E2]">

        <img src="/static/images/study_children.png"
             class="hero-slide absolute inset-0 w-full h-full object-contain opacity-0 transition-opacity duration-700 bg-[#FFF8E2]">
      </div>

    </div>

  </div>
</section>
<!-- OUR MISSION -->
<section class="py-24 bg-[#FFF8E2] relative overflow-hidden">

  <!-- subtle floating accent (soft gradient + low opacity so no harsh hue) -->
  <div class="absolute -top-6 right-6 w-44 h-44 rounded-full pointer-events-none
              bg-gradient-to-tr from-transparent to-[var(--accent-500)]
              opacity-10 filter blur-3xl"></div>

  <div class="max-w-5xl mx-auto px-6 text-center space-y-10">

    <h2 class="text-3xl font-bold text-gray-900 relative inline-block">
      Our Mission
      <span class="absolute left-1/2 -bottom-2 -translate-x-1/2 w-20 h-1 bg-[var(--primary-900)]"></span>
    </h2>

    <div class="mx-auto max-w-3xl bg-white rounded-2xl p-8 transition-all">
      <p class="text-gray-700 text-lg leading-relaxed">
        Our mission is to bring transformative change by addressing systemic challenges 
        and empowering communities to lead their own development.
      </p>

      <p class="text-gray-700 text-lg leading-relaxed mt-3">
        We believe in compassion, transparency, and accountability.
      </p>
    </div>

  </div>
</section>

{# --- KEEP ORIGINAL CONTENT END (unchanged) --- #}

{# --- Styles & CSS variables using your palette --- #}
<style>
  :root{
    --primary-900: #003049;
    --accent-700: #D62828;
    --accent-500: #F77F00;
    --accent-soft: #FCBF49;
    --muted-50: #EAE2B7;
  }
  .hero-slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity .8s ease;
}

.hero-slide.active {
  opacity: 1;
  z-index: 5;
}

/* Carousel */
.ng-carousel { position: relative; overflow: hidden; }
.ng-slide {   position: absolute; inset: 0; opacity: 0; transform: scale(1.03); transition: opacity .6s ease, transform .6s ease; pointer-events: none;}
.ng-slide.active { opacity: 1; transform: scale(1);   position: relative; z-index: 10; pointer-events: auto;}

  /* Carousel Arrow Buttons */
#aboutPrev, 
#aboutNext {
  width: 48px;               /* bigger clickable area */
  height: 48px;
  border-radius: 9999px;     /* perfectly round */
  background: rgba(0,0,0,0.85);  /* higher opacity */
  backdrop-filter: blur(4px);           /* glass effect */
  font-size: 24px;           /* bigger arrow symbol */
  font-weight: bold;
  color: white; /* arrow color */
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all .25s ease;
}

/* Move arrows OUTSIDE card area for the big carousel */
#aboutPrev, #aboutNext {
  top: 50%;
  transform: translateY(-50%);
  z-index: 50;
}

/* Position left arrow fully outside */
#aboutPrev {
  left: -3rem;   /* move outside the slider */
}

/* Position right arrow fully outside */
#aboutNext {
  right: -3rem;  /* move outside the slider */
}

/* Make sure layout doesn't clip the arrows */
#aboutCarousel {
  overflow: visible !important;
  position: relative;
}


/* Hover State */
#aboutPrev:hover,
#aboutNext:hover {
  background: rgba(255, 255, 255, 1);   /* full opacity */
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  transform: scale(1.1);
}

  /* Slide indicators */
  .ng-indicators { display:flex; gap:.5rem; justify-content:center; margin-top:1rem; }
  .ng-indicators button { width:10px; height:10px; border-radius:9999px; background:rgba(0,0,0,0.2); border: none; }

  /* Card overlay & hover effects */
  .impact-card { position: relative; overflow: hidden; border-radius: .75rem; box-shadow: 0 8px 20px rgba(2,6,23,0.08); }
  .impact-card img { width:100%; height: 320px; object-fit: cover; display:block; transition: transform .6s cubic-bezier(.2,.8,.2,1); }
  .impact-card:hover img { transform: scale(1.08); }

  .impact-overlay {
    position: absolute; inset: 0; display:flex; flex-direction: column; justify-content: flex-end;
    padding: 1.25rem; background: linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,0.5) 100%);
    color: white; transition: transform .35s ease, opacity .35s ease;
    transform: translateY(12%); opacity: .98;
  }

  .impact-card:hover .impact-overlay { transform: translateY(0%); }

  .impact-heading {
    transform: translateY(18px); opacity: 0; transition: transform .35s cubic-bezier(.2,.9,.3,1), opacity .35s ease;
    font-weight: 700; letter-spacing: .2px;
  }
  .impact-card:hover .impact-heading { transform: translateY(0); opacity: 1; }

  .impact-text { font-size: .95rem; line-height: 1.4; max-height: 9rem; overflow: hidden; }

  /* Small decorative accent */
  .accent-pill { display:inline-block; padding:.25rem .6rem; background:var(--accent-soft); color:var(--primary-900); border-radius:9999px; font-weight:600; }

  /* Responsive tweaks */
  @media (min-width: 768px){
    .impact-card img { height: 380px; }
  }
  @media (max-width: 640px) {
  #aboutPrev { left: -1.25rem; }
  #aboutNext { right: -1.25rem; }
}

</style>

{# --- New: Auto-sliding hero carousel (smaller, about-page specific) --- #}
<section class="py-12 bg-white">
  <div class="max-w-6xl mx-auto px-6">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-bold" style="color:var(--primary-900)">A Closer Look — Moments & Impact</h2>
      <div class="text-sm text-gray-600">Stories, snapshots and our evolving impact</div>
    </div>

    <div class="relative ng-carousel rounded-lg" id="aboutCarousel" aria-roledescription="carousel">

      <!-- LEFT ARROW -->
      <button id="aboutPrev"
        class="absolute left-2 top-1/2 transform -translate-y-1/2 z-20 bg-white shadow-md border p-3 rounded-full hover:bg-gray-100 transition ">
        ‹
      </button>

      <!-- RIGHT ARROW -->
      <button id="aboutNext"
        class="absolute right-2 top-1/2 transform -translate-y-1/2 z-20 bg-white shadow-md border p-3 rounded-full hover:bg-gray-100 transition">
        ›
      </button>

      <!-- Slide 1 -->
      <div class="ng-slide active" data-index="0" role="group" aria-roledescription="slide" aria-label="1 of 3">
        <div class="grid md:grid-cols-3 gap-6">
          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=1400&q=80&auto=format&fit=crop" alt="Community health drive">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Community Health Drive</div>
              <div class="impact-text mt-2 text-sm">
                <p>We organized free health camps that reached remote villages — providing screenings and essential medicines.</p>
                <p class="mt-2">Local volunteers were trained to ensure continuity of care beyond the event.</p>
              </div>
            </div>
          </article>

          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1509062522246-3755977927d7?w=1400&q=80&auto=format&fit=crop" alt="Education program">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Education & Mentoring</div>
              <div class="impact-text mt-2 text-sm">
                <p>Scholarship programs and mentoring helped students complete secondary education.</p>
                <p class="mt-2">Our training modules are co-created with teachers to ensure relevance.</p>
              </div>
            </div>
          </article>

          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1542413608-1f5e9f0d1d73?w=1400&q=80&auto=format&fit=crop" alt="Sustainable farming">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Sustainable Farming</div>
              <div class="impact-text mt-2 text-sm">
                <p>Adoption of water-conserving practices increased crop yields and food security.</p>
                <p class="mt-2">Farmers now access micro-loans and market linkages.</p>
              </div>
            </div>
          </article>
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="ng-slide" data-index="1" role="group" aria-roledescription="slide" aria-label="2 of 3">
        <div class="grid md:grid-cols-3 gap-6">
          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1543128639-8d5b84a6c2d1?w=1400&q=80&auto=format&fit=crop" alt="Women empowerment">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Women Empowerment</div>
              <div class="impact-text mt-2 text-sm">
                <p>Skill-building workshops led to new livelihood opportunities for dozens of women.</p>
                <p class="mt-2">Local cooperatives formed to sell products collectively.</p>
              </div>
            </div>
          </article>

          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1507679799987-c73779587ccf?w=1400&q=80&auto=format&fit=crop" alt="Clean water">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Clean Water Access</div>
              <div class="impact-text mt-2 text-sm">
                <p>Installation of community filters reduced waterborne disease.</p>
                <p class="mt-2">Communities now manage maintenance through village committees.</p>
              </div>
            </div>
          </article>

          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1520975911594-7b84a0f0f6b4?w=1400&q=80&auto=format&fit=crop" alt="Emergency relief">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Emergency Relief</div>
              <div class="impact-text mt-2 text-sm">
                <p>Quick-response teams provided relief after natural disasters and helped rehousing efforts.</p>
                <p class="mt-2">Long-term recovery included livelihood restoration programs.</p>
              </div>
            </div>
          </article>
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="ng-slide" data-index="2" role="group" aria-roledescription="slide" aria-label="3 of 3">
        <div class="grid md:grid-cols-3 gap-6">
          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1520975911577-8d1a7fdbb2c7?w=1400&q=80&auto=format&fit=crop" alt="Youth leadership">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Youth Leadership</div>
              <div class="impact-text mt-2 text-sm">
                <p>Leadership camps inspired youth to begin community projects and civic participation.</p>
                <p class="mt-2">Several youth-led initiatives continue to grow independently.</p>
              </div>
            </div>
          </article>

          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1517817748498-95b3b3f36f6a?w=1400&q=80&auto=format&fit=crop" alt="Sanitation">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Sanitation & Hygiene</div>
              <div class="impact-text mt-2 text-sm">
                <p>Community-driven sanitation drives improved school attendance and health outcomes.</p>
                <p class="mt-2">Local champions now lead awareness campaigns.</p>
              </div>
            </div>
          </article>

          <article class="impact-card bg-white">
            <img src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?w=1400&q=80&auto=format&fit=crop" alt="Green energy">
            <div class="impact-overlay">
              <div class="impact-heading text-xl">Green Energy Pilots</div>
              <div class="impact-text mt-2 text-sm">
                <p>Solar microgrids piloted for remote hamlets reduced costs and increased study time for children.</p>
                <p class="mt-2">We continue to evaluate scaling options.</p>
              </div>
            </div>
          </article>
        </div>
      </div>

    </div>

    <div class="ng-indicators mt-6" id="aboutIndicators" aria-hidden="false">
      <button aria-label="Go to slide 1" class="bg-gray-300" data-to="0"></button>
      <button aria-label="Go to slide 2" data-to="1"></button>
      <button aria-label="Go to slide 3" data-to="2"></button>
    </div>
  </div>
</section>


{# --- New: Our Impact So Far — stats + mini slideshow of achievements --- #}
<section class="py-16 bg-[var(--muted-50)]">
  <div class="max-w-6xl mx-auto px-6 space-y-8">
    <div class="flex flex-col md:flex-row items-center justify-between gap-6">
      <div class="space-y-2">
        <h3 class="text-2xl font-bold" style="color:var(--primary-900)">Our Impact So Far</h3>
        <p class="text-gray-700 max-w-xl">A snapshot of measurable outcomes we've supported through programs and partnerships.</p>
      </div>

      <div class="flex gap-6">
        <div class="text-center">
          <div class="text-3xl font-extrabold" style="color:var(--accent-700)">1,240+</div>
          <div class="text-sm text-gray-700">Beneficiaries reached</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-extrabold" style="color:var(--accent-500)">85%</div>
          <div class="text-sm text-gray-700">Program completion</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-extrabold" style="color:var(--primary-900)">72</div>
          <div class="text-sm text-gray-700">Community projects supported</div>
        </div>
      </div>
    </div>

    {# mini slideshow / testimonials style — rotates cards automatically #}
    <div class="rounded-lg bg-white p-6 shadow-sm">
      <div class="flex items-center justify-between mb-4">
        <h4 class="font-semibold">Recent Achievements</h4>
      </div>

      <div id="miniSlider" class="relative">
        <div class="mini-slide active p-4">
          <div class="flex flex-col md:flex-row gap-4 items-start">
            <img class="w-full md:w-48 h-32 object-cover rounded-md" src="https://images.unsplash.com/photo-1565120130297-2f0b2d8b1fbb?w=1200&q=80&auto=format&fit=crop" alt="School renovation">
            <div>
              <a href="{% url 'event_detail' slug="School-Renovation-Completed" %}" 
                class="font-semibold text-lg text-gray-900 hover:text-orange-600 transition-colors duration-200">
                School Renovation Completed</a>
              <p class="text-gray-700 text-sm mt-2">Renovation of two rural schools improved learning spaces for 300+ students.</p>
              <p class="text-sm text-gray-600 mt-2">Local teachers were given classroom resources and training.</p>
            </div>
          </div>
        </div>

        <div class="mini-slide p-4">
          <div class="flex flex-col md:flex-row gap-4 items-start">
            <img class="w-full md:w-48 h-32 object-cover rounded-md" src="https://images.unsplash.com/photo-1531746790731-6c087fecd65a?w=1200&q=80&auto=format&fit=crop" alt="Vocational training">
            <div>
              <a href="{% url 'event_detail' slug="Skill-Training-Programme" %}" 
                class="font-semibold text-lg text-gray-900 hover:text-orange-600 transition-colors duration-200">
                Skill Training Programme</a>
              <p class="text-gray-700 text-sm mt-2">Two cohorts completed training with job placements and micro-grants to start businesses.</p>
              <p class="text-sm text-gray-600 mt-2">Success stories have inspired a scale-up plan.</p>
            </div>
          </div>
        </div>

        <div class="mini-slide p-4">
          <div class="flex flex-col md:flex-row gap-4 items-start">
            <img class="w-full md:w-48 h-32 object-cover rounded-md" src="https://images.unsplash.com/photo-1524253482453-3fed8d2fe12b?w=1200&q=80&auto=format&fit=crop" alt="Community bank">
            <div>
              <a href="{% url 'event_detail' slug="Blood-Donation-Camp" %}" 
                class="font-semibold text-lg text-gray-900 hover:text-orange-600 transition-colors duration-200">
                Blood Donation Camp</a>
              <p class="text-gray-700 text-sm mt-2">A community microfinance group now supports local entrepreneurs with low-interest loans.</p>
              <p class="text-sm text-gray-600 mt-2">Repayment rates exceed expectations due to strong community governance.</p>
            </div>
          </div>
        </div>
         <div class="mini-slide active p-4">
          <div class="flex flex-col md:flex-row gap-4 items-start">
            <img class="w-full md:w-48 h-32 object-cover rounded-md" src="https://images.unsplash.com/photo-1565120130297-2f0b2d8b1fbb?w=1200&q=80&auto=format&fit=crop" alt="School renovation">
            <div>
              <!-- UPDATED: clickable link + hover color -->
              <a href="{% url 'event_detail' slug="orphanage-renovation-completed" %}" 
                class="font-semibold text-lg text-gray-900 hover:text-orange-600 transition-colors duration-200">
                Orphanage Renovation Completed
              </a>
              <p class="text-gray-700 text-sm mt-2">Renovation of two rural schools improved learning spaces for 300+ students.</p>
              <p class="text-sm text-gray-600 mt-2">Local teachers were given classroom resources and training.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{# --- Small call-to-action for visitors to share moments (optional) --- #}
<section class="py-10">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <div class="inline-flex items-center gap-3 mb-4">
      <span class="accent-pill">Share</span>
      <h4 class="text-xl font-semibold">Have a moment of impact to share?</h4>
    </div>
    <p class="text-gray-600 max-w-2xl mx-auto">If you were part of any program or benefited from our work, we'd love to hear your story — it helps us learn and grow.</p>
    <div class="mt-6">
      <a href="{% url 'contact' %}" 
   class="inline-block px-6 py-2 rounded-md font-semibold shadow-sm transition-all duration-300 hover:shadow-[0_0_12px_var(--primary-900)] hover:brightness-110"
   style="background:var(--primary-900); color:#fff;">
   Tell Your Story
</a>

    </div>
  </div>
</section>

{# --- Scripts for carousels & interactive behaviour (vanilla JS) --- #}
<script>
(function () {
  /* =====================================================================
     ABOUT PAGE CAROUSEL
  ===================================================================== */
  const carousel = document.getElementById("aboutCarousel");
  if (carousel) {
    const slides = [...carousel.querySelectorAll(".ng-slide")];
    const indicators = [...(document.getElementById("aboutIndicators")?.querySelectorAll("button") || [])];

    const aboutPrev = document.getElementById("aboutPrev");
    const aboutNext = document.getElementById("aboutNext");

    let idx = 0;
    let autoplay = true;
    const interval = 6000;

    function show(i) {
      if (!slides[i]) return;

      slides.forEach(s => s.classList.remove("active"));
      indicators.forEach(b => (b.style.background = ""));

      slides[i].classList.add("active");
      if (indicators[i]) indicators[i].style.background = "var(--primary-900)";

      idx = i;
    }

    indicators.forEach(btn => {
      btn.addEventListener("click", () => {
        autoplay = false;
        const target = Number(btn.dataset.to);
        if (!isNaN(target)) show(target);
      });
    });

    if (aboutPrev) {
      aboutPrev.addEventListener("click", () => {
        autoplay = false;
        show((idx - 1 + slides.length) % slides.length);
      });
    }

    if (aboutNext) {
      aboutNext.addEventListener("click", () => {
        autoplay = false;
        show((idx + 1) % slides.length);
      });
    }

    carousel.addEventListener("mouseenter", () => (autoplay = false));
    carousel.addEventListener("mouseleave", () => (autoplay = true));

    setInterval(() => {
      if (autoplay) show((idx + 1) % slides.length);
    }, interval);

    show(0);
  }

  /* =====================================================================
     MINI SLIDER
  ===================================================================== */
  const miniRoot = document.getElementById("miniSlider");
  if (miniRoot) {
    const miniSlides = [...miniRoot.querySelectorAll(".mini-slide")];
    const prevBtn = document.getElementById("miniPrev");
    const nextBtn = document.getElementById("miniNext");

    let mIdx = 0;
    let mAuto = true;
    const mInterval = 5000;

    function miniShow(i) {
      if (!miniSlides[i]) return;
      miniSlides.forEach(s => s.classList.remove("active"));
      miniSlides[i].classList.add("active");
      mIdx = i;
    }

    prevBtn?.addEventListener("click", () => {
      mAuto = false;
      miniShow((mIdx - 1 + miniSlides.length) % miniSlides.length);
    });

    nextBtn?.addEventListener("click", () => {
      mAuto = false;
      miniShow((mIdx + 1) % miniSlides.length);
    });

    miniRoot.addEventListener("mouseenter", () => (mAuto = false));
    miniRoot.addEventListener("mouseleave", () => (mAuto = true));

    setInterval(() => {
      if (mAuto) miniShow((mIdx + 1) % miniSlides.length);
    }, mInterval);

    miniShow(0);
  }

  /* =====================================================================
     HERO SLIDER (NEW)
     Works with: #heroSlider .hero-slide
  ===================================================================== */
  const hero = document.getElementById("heroSlider");
  if (hero) {
    const heroSlides = [...hero.querySelectorAll(".hero-slide")];
    let hIdx = 0;
    let hAuto = true;
    const hInterval = 4000;

    function heroShow(i) {
      if (!heroSlides[i]) return;
      heroSlides.forEach(s => (s.style.opacity = 0));
      heroSlides[i].style.opacity = 1;
      hIdx = i;
    }

    hero.addEventListener("mouseenter", () => (hAuto = false));
    hero.addEventListener("mouseleave", () => (hAuto = true));

    setInterval(() => {
      if (hAuto) heroShow((hIdx + 1) % heroSlides.length);
    }, hInterval);

    heroShow(0);
  }
})();
</script>




{% endblock %}
